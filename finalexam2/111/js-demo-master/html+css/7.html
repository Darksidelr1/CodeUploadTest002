<!DOCTYPE html>
<html lang="en">
<head>
    <title>贪吃蛇</title>
    <style>
        .mf {
            border: 1px solid #ddd;
            display: flex;
            flex-wrap: wrap;
        }
        .item {
            box-sizing: border-box;
            border: 1px solid #ddd;
        }
        .player {
            background-color: #444;
        }
        .eat {
            background-color:rosybrown;
        }
    </style>
</head>
<body>
    <div class="mf"></div>
    <script>
        const rows = 20
        const cols = 20
        const size = 20 //行列大小
        const mf = document.querySelector('.mf')    //获取游戏容器的引用
        const result = []//存储
        const player = [//位置
            [1, 1]
        ]
        const updatePlayer = () => {
            document.querySelectorAll('.player').forEach(v => v.classList.remove('player'))
            player.forEach(v => {
                document.querySelector(`[data-v="${v.join('-')}"]`).classList.add('player')
            })
        }
        let key = ''
        for(let i=0;i<rows;i++) {
            for(let j=0;j<cols;j++) {
                const isEat = Math.random() > 0.9
                result.push(`<div data-v="${i}-${j}" class="item ${isEat ? 'eat': ''}" style="width:${size}px;height:${size}px"></div>`)
            }
        }
        mf.innerHTML = result.join('')
        mf.style.width = `${cols * size}px`
        document.addEventListener('keydown', e=> {
            if(e.key.match(/^w|a|s|d$/)) {
                key = e.key
            }
        })
        const intervalId = setInterval(() => {
            if (key) {
                const needPos = JSON.parse(JSON.stringify(player.slice(0, player.length - 1)))
                switch(key) {
                    case 'w':
                        player[0][0] -= 1
                        break;
                    case 'a':
                        player[0][1] -= 1
                        break;
                    case 's':
                        player[0][0] += 1
                        break;
                    case 'd':
                        player[0][1] += 1
                        break;
                }
                const el = document.querySelector(`[data-v="${player[0].join('-')}"]`)
                if (!el) {
                    clearInterval(intervalId)
                    alert('撞墙了')
                } else {
                    for (let i=1;i<player.length;i++) {
                        player[i] = needPos[i - 1]
                    }
                    if (el.className.indexOf('eat') >= 0) {
                        el.classList.remove('eat')
                        player.push([...player[0]])
                    }
                    updatePlayer()
                }   
            }
        }, 100)
        updatePlayer()
    </script>
</body>
</html>

<!-- HTML部分：

创建了一个具有类名为mf的div元素，用于显示游戏区域。
CSS部分：

设置了游戏区域和方块的样式，包括边框、背景颜色等。
JavaScript部分：

定义了游戏区域的行数(rows)、列数(cols)和方块大小(size)。
获取.mf元素作为游戏区域容器。
定义了存储游戏区域元素的数组result。
定义了贪吃蛇的初始位置player。
定义了更新贪吃蛇位置的函数updatePlayer，用于在DOM中更新贪吃蛇的显示位置。
定义了按键记录变量key，用于存储按下的键盘按键。
使用嵌套循环生成游戏区域的方块元素，并根据随机数决定是否设置方块为食物。
将生成的方块元素添加到result数组中。
将result数组的内容通过innerHTML属性添加到游戏区域容器中。
设置游戏区域容器的宽度。
添加键盘按下事件监听器，当按下W、A、S、D键时将按键记录到key变量中。
使用setInterval定时器函数实现游戏的更新逻辑：
如果key变量不为空，则根据按下的键盘按键更新贪吃蛇的位置。
检查贪吃蛇是否撞墙，如果撞墙则清除定时器并弹出提示。
更新贪吃蛇的位置，将最后一个方块的位置依次赋值给前一个方块，以实现贪吃蛇的移动效果。
如果贪吃蛇头部位置与食物方块重合，则移除食物方块，将新的方块添加到贪吃蛇的尾部。
调用updatePlayer函数更新贪吃蛇的显示位置。
最后调用updatePlayer函数初始化贪吃蛇的显示位置。
通过以上代码，实现了以下功能：

生成游戏区域的方块以及随机放置的食物。
监听键盘按下事件，并记录按下的键盘按键。
定时器不断更新贪吃蛇的位置和显示，实现贪吃蛇的移动效果。
检测贪吃蛇是否撞墙，并弹出相应的提示。
检测贪吃蛇是否吃到食物，吃到后增加贪吃蛇的长度。 -->